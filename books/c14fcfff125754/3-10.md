---
title: "3-10. Native database types（ネイティブデータベース型）"
---

# Native database types（ネイティブデータベース型）

Prisma Migrateは、Prismaスキーマで定義されたモデルを、データベース内の機能に変換します。

データモデル内のすべての機能は、基盤となるデータベースの対応する機能にマッピングされます。Prismaスキーマで機能を定義できれば、Prisma Migrateによってサポートされます。

> **📝 注意:**
> コメントやPrisma ORMレベルの関数（`uuid()` や `cuid()`）は、データベース機能にマッピングされません。

Prisma Migrateは、各フィールドを特定のネイティブ型にマッピングすることもサポートしており、Prismaスキーマに同等のものがない機能（ビューやトリガーなど）をデータベースに含める方法もあります。

## 🎯 フィールドを特定のネイティブ型にマッピングする

各Prisma ORM型は、デフォルトの基盤となるデータベース型にマッピングされます。（例：PostgreSQLコネクタは、デフォルトで `String` を `text` にマッピングします。）

**ネイティブデータベース型属性（Native database type attributes）は、データベースで作成される特定のネイティブ型**を決定します。

> **ℹ️ 情報:**
> 一部のPrisma ORM型は、単一のネイティブ型にのみマッピングされます。

以下の例では、`name` と `title` フィールドに **`@db.VarChar(X)`** 型属性が使用されています。

```prisma
datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  id   Int    @id @default(autoincrement())
  name String @db.VarChar(200) // ネイティブ型を指定
  posts Post[]
}

model Post {
  id        Int     @id @default(autoincrement())
  title     String  @db.VarChar(150) // ネイティブ型を指定
  // ...
}
```

Prisma Migrateは、マイグレーションを作成する際に、指定された型を使用します。

```sql
-- CreateTable
CREATE TABLE "User" (
  "id" SERIAL,
  "name" VARCHAR(200) NOT NULL, -- VARCHAR(200)が使用される
  PRIMARY KEY ("id")
);

-- CreateTable
CREATE TABLE "Post" (
  "id" SERIAL,
  "title" VARCHAR(150) NOT NULL, -- VARCHAR(150)が使用される
  -- ...
);
```

### マッピングの参照

  * **Prisma ORM型によるマッピング:** Prismaスキーマのリファレンスドキュメントを参照してください。
  * **データベースプロバイダーによるマッピング:** PostgreSQL、MySQL、Microsoft SQL Server、SQLiteのマッピングを参照してください。

-----

## ⛔ サポートされていないデータベース機能の処理

Prisma Migrateは、**Prisma Schema Language（PSL）に同等のものがない**データベース機能を自動的に作成することはできません。（例：ストアドプロシージャや部分インデックスをPSLで定義する方法は現在ありません。）

しかし、Prisma Migrateを使用してサポートされていない機能をデータベースに追加する方法はあります。

  * サポートされていない**フィールド型**を処理する（例：`circle`型）。
  * ストアドプロシージャなどの**サポートされていない機能**を処理する。
  * **ネイティブデータベース関数**を使用する方法。
