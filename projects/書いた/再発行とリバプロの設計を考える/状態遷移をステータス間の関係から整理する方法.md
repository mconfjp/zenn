---
title: 
date: 2025-04-25
tags:
  - 1
status: 
links:
---
# 状態遷移をステータス間の関係から整理する方法
https://zenn.dev/levtech/articles/37aef660e24922

## enumを管理する三つの手法
### 他のステータスと同時に成立するステータス
これは分解してあげる

### 分岐と合流があるステータス
- これリバプロっぽい
	- 時系列がある、ステータスに
	- いやステータスって基本的に時系列があるものか
- 影響範囲を狭めるために、平たいステータスにするのではなくて入れ子にするってことだな？

## 包含
> 一方で、今回の例でも同時に他のステータスが成立するところはあります。
> 例えば、交渉中は提案書送付済みであることを明らかに含みます。交渉中であるとは、提案書送付済みであることも意味するのです。
> enumの状態管理は他と区別する意味がありますが、提案書送付済みは交渉中などの次のステップではないという了解があれば、区別するという用途は満たしています。 
> 言い換えると、ある状態はそれよりも一つ前のステップを包括できていれば、それらのステータスの区別はできます。
> 一方で、失注の一つ前のステップは交渉中とも提案書送付済みともわかりません。失注は一つ以上前のステップを包括できていないです。
- これちょっと難しかった
	- 交渉中であれば、送付済みである
		- ここを分離させることもできる。送付ってステータスと交渉ってステータスに分けれる
	- 包含しているなら区別できる
		- 区別ってどういう意図で使ってる？　ステータス同士をMECEに区別するってこと？　それともステータスを合わせて二次ステータスにして、その中で別のステップとして区別するってこと？
	- 失注は前のステップを一意に特定できない。
- たぶん、
	- 包含しているものは関連性が強いというか、まとめうる
- 包含関係
	- 受注から見て商談中って含んでなくない？　受注したら商談は完了してるのでは？
	- 失注から見たらクオリファイリードであることは事実では？
	- までもこれは細かな点であり、論を毀損しないね
- アイデアとして、包含しているかどうかでEnumを分離できそうか考えるのはいいなと思った！

- 階層化のメリット
	- 管理簡単
	- 影響範囲が明確になる
- どの軸で分けるか？　などなど
