# ORマッパーの歴史本 - 企画

技術書典20（2026.4.12）に向けて、永続化レイヤー抽象化の歴史を2万文字でまとめる本。
ORMを通じて永続化レイヤー抽象化という普遍的な課題を学ぶ。

## 構成（テーマ軸）

| # | 章 | 文字数 | 物語の軸 |
|---|---|---|---|
| 0 | はじめに | 2,000字 | なぜこの本を書くのか |
| 1 | RDBの歴史 | 4,000字 | データを「モノ」から「概念」へ解放する |
| 2 | OOPの歴史 | 3,000字 | プログラムを「手順書」から「世界の模型」へ |
| 3 | 業務アプリの歴史 | 4,000字 | 現場の課題が技術を駆動してきた |
| 4 | ORMの歴史 | 4,000字 | ふたつの世界の翻訳者が生まれるまで |
| 5 | DDDの歴史 | 3,000字 | ORMの「O」はどこから来るのか |
| | **合計** | **20,000字** | |

---

## 各章の企画

### 0. はじめに（2,000字）
既存版（[[2026.2.7_BT_本文_はじめに]]）をそのまま使う。後で構成説明部分だけ調整する。

---

### 1. RDBの歴史（4,000字）

**コンセプト**: データを「モノ」から「概念」へ解放していく歴史 

**ストーリーライン**:
0. 人類はずっとデータを保存してきた
	- 書く、残すという行為は元々壁画とか、建物とか。あれは宗教的な要素があった
	- 次に国家ができて税金を取る必要があり、そこで文字が使われる
	- 粘土板、パピルス、帳簿
	- 複式簿記（15世紀イタリア）：データの整合性を仕組みで担保した初めての例
	- 国勢調査（ローマ時代から）：大量データ集計の課題は古代から
	- 共通する課題：規模が大きくなると、探せない・数えられない・間違える
1. 機械化：データは穴になった
	- 1880年国勢調査の危機 → ホレリスのパンチカード
	- 7年かかっていた集計が3年に
	- IBMの誕生と寡占
	- データ＝物理的な穴。カードそのものがデータ
2. 電子化：データはビットになったが、構造はモノのまま
	- 磁気テープ・磁気ドラム：順番にしか読めない
	- 階層型DB：物理ポインタで管理。パンチカードの発想の電子化
	- 課題：物理構造を変えたければ全部作り直し。「どう保存するか」と「どう使うか」が分離できていない
3. RDB：データが概念になった
	- コッド博士：論理と物理を分離する
	- SQL：「何が欲しいか」だけ言えばいい
	- Oracle、DB2、MySQL…実用化の物語

**パンチライン**: 粘土板の時代から、人類はデータを保存してきた。けどずっと「データ＝モノ」だった。パンチカードの穴も、階層型DBのポインタも、データは物理的な何かに縛られていた。RDBは初めて、データを物理から切り離して「概念」にした。

**既存素材**:
- [[AI_1880年代~1940年代]] - パンチカード、IBM誕生、オフィス機械化
- [[AI_番外編_RDDB]] - コッド博士、System R、Oracle2、DB2
- [[2026.2.7_BT_LLM_歴史からみる課題]] - ソフトウェアとDB登場の節
- Zettel: [[WIP_Embedded SQLの仕組み]]、[[機械式コンピュータによるデータ集計は1890年のアメリカ国勢調査で始まり、それは民主主義のなかから生まれた]]

**調査が必要なもの**:
- [ ] コンピュータ以前のデータ保存の具体例（粘土板、複式簿記、国勢調査の歴史）
- [ ] 階層型DBの具体的な課題エピソード（物理構造に縛られて困った話）
- [ ] コッド博士の論文が当時どう受け止められたかのエピソード
- [ ] 記録技術の歴史、で初期は一旦担保しよう

---

### 2. OOPの歴史（3,000字）

**コンセプト**: プログラムを「手順書」から「世界の模型」へ変えていく歴史
（※「世界の模型」は仮表現。執筆時に直す）

**ストーリーライン**:
0. プログラムは手順書だった
	- 配線 → アセンブリ → FORTRAN / COBOL
	- 入力→処理→出力。バッチ処理の世界
	- COBOLは帳票処理に最適化。データを読んで、計算して、吐き出す
1. 課題：手順では記述しきれない世界が来た
	- タイムシェアリング：複数ユーザーが同時に操作する
	- GUIの登場：ユーザーが好きな順番で操作する
	- イベント駆動の世界を「上から順番に処理する」モデルでは書けない
2. OOP：プログラムの抽象度が上がった
	- アラン・ケイとダイナブック構想
	- Smalltalk：言語ではなくGUIを備えたOS的ソフトウェア
	- OOPとGUIは同じ人から生まれた双子
3. 普及の物語
	- PARC → Xerox Star（高すぎて失敗） → Mac（限定的）
	- Win95でGUIが大衆化 → OOPの必要性が爆発
	- Java：Smalltalkの思想をC系文法で
	- IBMのSmalltalk移行プロジェクト

**パンチライン**: バッチ処理の時代、プログラムは「手順書」だった。GUIが登場し、人間が好きな順番で操作する世界になると、手順書では書けなくなった。OOPはプログラムの抽象度を上げた技術であり、GUIと同じ人物から生まれたのは偶然ではない。

**既存素材**:
- [[AI_1970年代]] - Smalltalk、PARC、GUI-OOP関係
- [[AI_1980年代~1990年代]] - Xerox Star、Mac、IBM Smalltalk移行、Win95、Java
- [[2026.2.7_BT_LLM_歴史からみる課題]] - OOPとGUIの節
- Zettel: [[GUIでOOPが発展するのは必然。GUIの元になった構想はOOPという言葉を生み出したアラン・ケイのダイナブックに（も）ある]]

**調査が必要なもの**:
- [ ] COBOL時代のプログラミングが実際どんなだったかの具体例
- [ ] Win95前後でプログラミングがどう変わったかの実感のある話
- [ ] IBMのSmalltalk移行プロジェクトの具体的なエピソード

---

### 3. 業務アプリケーションの歴史（4,000字）

**コンセプト**: 「何のためにコンピュータを使うのか」が変わるたびに、永続化の課題も変わってきた。概論ではなく具体的な現場の話を書く。

**ストーリーライン**:
0. コンピュータは集計機だった
	- 国勢調査、保険、銀行
	- SAGE防空システム：リアルタイム処理の最初期
	- 永続化は磁気テープにバッチで書き出すだけ
1. メインフレーム時代：業務をシステムに載せる
	- IBM System/360とCOBOL
	- 銀行の勘定系、保険の契約管理、鉄道の運行管理
	- バッチ処理中心。夜間処理→朝に帳票
	- データは帳票のために存在していた
2. C/Sモデル：画面の先にDBがある世界
	- GUIの普及で端末から直接DBを操作
	- VB + SQL Server、Delphi + Oracle…
	- リアルタイムにDBを読み書きする形態へ
3. Web：不特定多数がDBを叩く世界
	- LAMPスタック
	- ユーザー数の爆発、同時接続
	- Webフレームワーク + ORM標準装備

**パンチライン**: コンピュータの用途が「集計」→「基幹業務」→「画面操作」→「Web」と変わるたびに、アプリケーションとデータの関係も変わってきた。バッチ処理ではデータを読んで吐き出すだけでよかった。リアルタイムに対話し、不特定多数が同時アクセスする世界になると、永続化レイヤーの抽象化が切実な問題になった。

**既存素材**:
- [[AI_1880年代~1940年代]] - パンチカード時代のオフィス
- [[AI_1950年代]] - SAGE
- [[AI_1960年代]] - System/360、ソフトウェア危機
- [[AI_1980年代~1990年代]] - Win95

**調査が必要なもの**（この章が一番手薄）:
- [ ] メインフレーム時代の具体的なシステム事例（どの会社が、何の業務に、どんなアーキテクチャで）
- [ ] C/Sモデル時代の具体的な開発現場の話（VB + SQL Serverで何を作っていたか）
- [ ] Web時代初期の具体的なシステム事例
- [ ] 各時代でデータベースとの関わり方がどう変わったかの具体例
- [ ] 帳票中心の世界からリアルタイムDBアクセスへの転換がどう起きたか

---

### 4. ORMの歴史（4,000字）

**コンセプト**: RDB（データを概念にした）とOOP（プログラムの抽象度を上げた）が出会い、翻訳者が必要になった

**ストーリーライン**:
0. ORM以前の橋渡し
	- Embedded SQL：プログラムの中にSQL直書き
	- CLI / ODBC：接続方法の標準化。データの変換は手作業
	- 「DBと話す方法」は提供したが「オブジェクトとテーブルの変換」はしなかった
1. ふたつの世界がぶつかった
	- OOPの普及でアプリはオブジェクトで世界を表現するように
	- データはテーブルの行として保存されている
	- インピーダンスミスマッチ：ふたつのパラダイムの根本的な不一致
2. ORMの登場
	- 1994年 TopLink for Smalltalk：最初のORM、商用
	- 1996年 TopLink for Java
	- 2002年 Oracle買収 / Hibernate登場：商用→OSSへの転換
	- 2006年 ActiveRecord / Rails：フレームワーク標準装備へ
3. ORMが当たり前になるまで
	- OSSの浸透とWebアプリの爆発が普及を加速
	- TopLink→Hibernate→ActiveRecordの流れ自体がソフトウェア産業の変化

**パンチライン**: RDBはデータを概念にした。OOPはプログラムの抽象度を上げた。しかしこのふたつは異なる言語で世界を記述している。ORMは、このふたつの世界の間に立つ翻訳者として生まれた。

**既存素材**:
- [[AI_1990年代以降_ORMの歴史]] - TopLink〜Rails、OSS文化
- [[2026.2.7_BT_LLM_歴史からみる課題]] - ORMの登場の節
- Zettel: [[ORMに先行するDB抽象化は存在する]]、[[ORMは2000年代前後の、IT業界にOSSが浸透し時代が切り替わるタイミングで普及した]]、[[インピーダンスミスマッチには「粒度」「サブタイプ」「オブジェクト同一性」の問題がある]]
- [[翻訳_Ted Neward "The Vietnam of Computer Science" (2004)]]

**調査が必要なもの**:
- [ ] Embedded SQL → CLI → ODBCの具体的な違いと進化の流れ
- [ ] TopLinkがどういう経緯で生まれたかのエピソード
- [ ] Hibernateが登場した時の反応・インパクト

---

### 5. DDDの歴史（3,000字）

**コンセプト**: ORMの「O」はどこから来るのか。ビジネスの要請がある。

**ストーリーライン**:
0. ORMは技術的な問題を解決した、しかし…
	- O-R変換はできるようになった
	- 「何をオブジェクトにするか」は別の問題
	- テーブルをそのままクラスにしただけではビジネスロジックの置き場がない
1. ドメイン駆動設計の登場
	- 2003年 エリック・エヴァンスの本
	- リポジトリパターン：永続化を隠蔽しドメインオブジェクトの操作に集中
	- ORMはリポジトリの実装手段に
2. 変化し続けるビジネスと変わらないDB
	- スクラム、プロダクトマネジメント：ビジネスの変化速度が上がる
	- アプリは高速に変わるが、DBスキーマは簡単に変えられない
	- このギャップを吸収するのが永続化レイヤー抽象化の本質的な役割
3. これからの話
	- AI時代：コード生成が加速し変化速度はさらに上がる
	- DBは変わらない。ギャップは広がる
	- だからこそ永続化レイヤー抽象化の理解が重要

**パンチライン**: ORMの「O」はObjectのOだが、そのオブジェクトはどこから来るのか。ビジネスからだ。ビジネスが高速に変化する時代に、変わらないDBとの間をどう取り持つか。ORMは技術的な翻訳者であると同時に、ビジネスの変化を吸収するバッファでもある。

**既存素材**:
- [[2026.2.12_BT後ORMの歴史]] - DDD、スクラム、AIへの言及
- Zettel: [[仮説_ORMはオブジェクトとリレーショナルの変換だけではなく、ドメインの要請が前提にある]]

**調査が必要なもの**:
- [ ] エリック・エヴァンスのDDD本が当時どう受け止められたか
- [ ] リポジトリパターンとORMの関係の具体例
- [ ] 「ビジネスの変化速度とDBの硬さのギャップ」を実感できるエピソード
- [ ] DDDの受容史（2003年の本→いつ頃から広まったか→日本での受容）

---

## 調査項目まとめ

全章を通じて、以下の調査が必要:

### 優先度高（素材がほとんどない）
- [ ] 業務アプリ: メインフレーム時代の具体的システム事例
- [ ] 業務アプリ: C/Sモデル時代の開発現場の話
- [ ] 業務アプリ: 帳票中心→リアルタイムDBアクセスの転換エピソード
- [ ] DDD: エリック・エヴァンス本の受容史

### 優先度中（補強が必要）
- [ ] RDB: コンピュータ以前のデータ保存の具体例
- [ ] RDB: 階層型DBの具体的な課題エピソード
- [ ] OOP: COBOL時代のプログラミングの具体例
- [ ] OOP: Win95前後の変化の実感ある話
- [ ] ORM: Embedded SQL → CLI → ODBCの進化の流れ

### 優先度低（あると嬉しい）
- [ ] RDB: コッド博士の論文の当時の反応
- [ ] OOP: IBMのSmalltalk移行の具体エピソード
- [ ] ORM: TopLink誕生の経緯
- [ ] ORM: Hibernate登場時の反応
- [ ] DDD: リポジトリパターンとORMの具体例

## 関連資料

- 作業計画: [[2026.2.25_PJM]]
- 全体企画構成: [[2026.2.8_BT_全体企画構成]]
- 調査ルート: [[2025.3.23_ORMを調べる調査ルート_技書博]]
